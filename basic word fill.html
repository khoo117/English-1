<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Word-Fill Game (High-Frequency Words)</title>
<style>
  body{font-family:Arial,sans-serif;background:#f3f5f9;padding:28px;}
  .game{background:#fff;padding:22px;max-width:980px;border-radius:10px;}
  .item{padding:14px 0;border-bottom:1px solid #eee;}
  .masked{font-size:16px;letter-spacing:2px;margin-bottom:8px;}
  input{
    width:320px;padding:9px;font-size:15px;border:2px solid #cfd6e4;
    border-radius:8px;outline:none;
  }
  input.correct{border-color:#22c55e;background:#ecfff4;}
  input.wrong{border-color:#ef4444;background:#fff1f0;}
  .meaning{color:#555;font-size:14px;margin-top:6px;}
  .example{color:#333;font-size:14px;margin-top:6px;font-style:italic;}
  .hint{margin-top:6px;font-size:13px;color:#6b7280;}
  .hint.ok{color:#16a34a;font-weight:600;}
  button{
    margin-top:14px;margin-right:8px;padding:9px 16px;font-size:14px;border:none;
    border-radius:8px;background:#2563eb;color:#fff;cursor:pointer;
  }
  button.secondary{background:#64748b;}
  .result{margin-top:12px;font-weight:700;}
  .answers{margin-top:12px;background:#eef1f7;padding:12px;border-radius:8px;display:none;}
  .small{font-size:13px;color:#6b7280;margin:6px 0 14px;}
</style>
</head>
<body>
<div class="game">
  <h2>Word-Fill Gameï¼ˆé«˜é¢‘è¯ 4 å­—æ¯ï¼‰</h2>
  <div class="small">
    ç©æ³•ï¼šçœ‹â€œæŒ–ç©ºå•è¯ + åè¯­è§£é‡Š + ä¾‹å¥â€ï¼Œè¾“å…¥å®Œæ•´å•è¯ã€‚<br>
    å³æ—¶æç¤ºï¼šé¦–å­—æ¯ + é•¿åº¦ + è¿›åº¦ï¼›æ£€æŸ¥åï¼šé”™çº¢/å¯¹ç»¿ï¼Œå¹¶æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆï¼›ğŸ”Š å¯å¬å‘éŸ³ã€‚
  </div>

  <div id="items"></div>

  <button onclick="checkAnswers()">Check Answers</button>
  <div id="result" class="result"></div>
  <div id="answersBox" class="answers"></div>
</div>

<script>
// âœ… å…ˆå†…ç½®ä½ æ¸…å•çš„å‰10ä¸ªï¼ˆhaveâ€“knowï¼‰
// ä½ è¦æ‰©å±•åˆ°50ä¸ªï¼šç»§ç»­åœ¨è¿™é‡Œå¾€ä¸‹åŠ å³å¯ï¼ˆæˆ‘ä¹Ÿå¯ä»¥å¸®ä½ ä¸€æ¬¡è¡¥é½ï¼‰
const data = [
  { word:"have", meaning:"æœ‰", example:"I have a plan for the weekend." },
  { word:"make", meaning:"åšï¼›åˆ¶é€ ", example:"Please make a decision today." },
  { word:"take", meaning:"æ‹¿ï¼›èŠ±è´¹", example:"It will take ten minutes to finish." },
  { word:"give", meaning:"ç»™", example:"Please give me a moment." },
  { word:"keep", meaning:"ä¿æŒ", example:"Keep your room clean and tidy." },
  { word:"find", meaning:"æ‰¾åˆ°", example:"I canâ€™t find my keys anywhere." },
  { word:"work", meaning:"å·¥ä½œ", example:"This method works really well." },
  { word:"play", meaning:"ç©ï¼›æ¼”å¥", example:"They play football after school." },
  { word:"help", meaning:"å¸®åŠ©", example:"Can you help me with this task?" },
  { word:"know", meaning:"çŸ¥é“", example:"I know the answer to that question." },
];

// å¤šå­—æ¯æŒ–ç©ºï¼š4å­—æ¯è¯æ›´çŸ­ï¼Œæ‰€ä»¥ç”¨â€œæŒ–2ä¸ªå­—æ¯â€ä¼šæ›´åƒæ¸¸æˆ
function maskWord(word){
  // å›ºå®šæŒ–æ‰ç¬¬2å’Œç¬¬4ä¸ªå­—æ¯ï¼ˆé€‚åˆ4å­—æ¯è¯ï¼‰
  // ä¾‹å¦‚ have -> h _ v _
  const chars = word.split("");
  if(chars.length >= 2) chars[1] = "_";
  if(chars.length >= 4) chars[3] = "_";
  return chars.join(" ");
}

const container = document.getElementById("items");

data.forEach((d,i)=>{
  container.innerHTML += `
    <div class="item">
      <div class="masked">${i+1}) ${maskWord(d.word)}</div>
      <input id="q${i}" placeholder="Type the full word..." autocomplete="off" />
      <div id="h${i}" class="hint">Hint: starts with "${d.word[0]}", length ${d.word.length}</div>

      <div class="meaning">åè¯­ï¼š${d.meaning}</div>
      <div class="example">Example: ${d.example.replace(new RegExp("\\\\b"+d.word+"\\\\b","i"), "____")}</div>

      <button class="secondary" onclick="speak('${d.word}')">ğŸ”Š Pronunciation</button>
    </div>
  `;
});

// å‘éŸ³ï¼ˆæµè§ˆå™¨å†…å»º TTSï¼‰
function speak(text){
  const u = new SpeechSynthesisUtterance(text);
  u.lang = "en-US";
  u.rate = 0.9;
  speechSynthesis.speak(u);
}

function normalize(s){ return (s||"").toLowerCase().trim(); }

// å³æ—¶æç¤º
data.forEach((d,i)=>{
  const el = document.getElementById("q"+i);
  const hint = document.getElementById("h"+i);

  el.addEventListener("input", ()=>{
    const v = normalize(el.value);
    el.classList.remove("correct","wrong"); // å®æ—¶ä¸åˆ¤çº¢ç»¿ï¼Œé¿å…å¹²æ‰°

    if(!v){
      hint.textContent = `Hint: starts with "${d.word[0]}", length ${d.word.length}`;
      hint.className = "hint";
      return;
    }
    if(v === d.word){
      hint.textContent = "âœ“ Correct";
      hint.className = "hint ok";
      return;
    }
    if(d.word.startsWith(v)){
      hint.textContent = `Good startâ€¦ (${v.length}/${d.word.length})`;
      hint.className = "hint";
    }else{
      hint.textContent = `Try again. Hint: starts with "${d.word[0]}"`;
      hint.className = "hint";
    }
  });
});

// æ£€æŸ¥ç­”æ¡ˆï¼šé”™è¯¯é«˜äº® + æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆï¼ˆåªåˆ—å‡ºé”™çš„ï¼‰
function checkAnswers(){
  let score = 0;
  let wrongList = [];

  data.forEach((d,i)=>{
    const el = document.getElementById("q"+i);
    const hint = document.getElementById("h"+i);
    const v = normalize(el.value);

    el.classList.remove("correct","wrong");

    if(v === d.word){
      score++;
      el.classList.add("correct");
      hint.textContent = "âœ“ Correct";
      hint.className = "hint ok";
    }else{
      el.classList.add("wrong");
      hint.textContent = `âœ— Correct answer: ${d.word}`;
      hint.className = "hint";
      wrongList.push(`${i+1}. ${d.word} â€” ${d.meaning}`);
    }
  });

  document.getElementById("result").textContent = `Your score: ${score} / ${data.length}`;

  const box = document.getElementById("answersBox");
  box.style.display = "block";
  box.innerHTML = wrongList.length
    ? `<b>Correct Answers (Wrong items only):</b><br>${wrongList.join("<br>")}`
    : "<b>Excellent!</b> All answers are correct ğŸ‰";
}
</script>
</body>
</html>